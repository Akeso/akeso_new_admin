(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-48de"],{"+y3I":function(t,e,s){"use strict";var a=s("JJHx");s.n(a).a},"6aZ5":function(t,e,s){"use strict";s.r(e);var a=s("SF+J"),r={props:{userId:{type:String,default:""}},data:function(){return{avatarUrl:"http://www.pptbz.com/pptpic/UploadFiles_6909/201203/2012031220134655.jpg",emptyText:"",child:{name:".",gender:".",age:".",height:".",weight:"."}}},created:function(){this.getInformation()},methods:{getInformation:function(){var t=this;Object(a.a)({id:this.userId}).then(function(e){t.child=e.data})}}},n=(s("+y3I"),s("KHd+")),l=Object(n.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-row",[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("儿童基本信息")])]),t._v(" "),s("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[s("el-col",{attrs:{span:6}},[s("div",[s("img",{staticClass:"pan-thumb",attrs:{src:t.avatarUrl}})]),t._v(" "),s("div",{staticClass:"btn-user"},[s("el-button",{attrs:{type:"success"}},[t._v("编辑用户信息")])],1),t._v(" "),s("div",{staticClass:"btn-user"},[s("el-button",{attrs:{type:"success"}},[t._v("联系用户")])],1),t._v(" "),s("div",{staticClass:"btn-user"},[s("el-button",{attrs:{type:"success"}},[t._v("编辑标签")])],1)]),t._v(" "),s("el-col",{attrs:{span:24}},[s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("姓名")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.name))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("性别")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.gender))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("年龄")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.age))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("身高(cm)")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.height))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("体重(kg)")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.weight))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("体重指数BMI")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.bmi||0))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("近家族史")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.mother_eye)+" - "+t._s(t.child.father_eye))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("联系电话")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.phone))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("眼病史")])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.eye_illness_history||"-"))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("居住地")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.location_string||"-"))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("学校")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.school||"-"))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("用户标签")])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.user_tags||"-"))])])],1),t._v(" "),s("el-row",{attrs:{gutter:6}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v("绑定设备")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple box-center"},[t._v(t._s(t.child.device||"-"))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("绑定医生")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.child.doctor||"-"))])])],1),t._v(" "),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("用户资料完成度")])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("el-progress",{staticStyle:{"margin-top":"10px"},attrs:{"text-inside":!0,"stroke-width":20,percentage:t.child.integrity,status:"success"}})],1)],1)],1)],1)],1)],1)},[],!1,null,"6ea978ec",null);l.options.__file="information.vue";var o=l.exports,c=s("t3Un");var i={props:{userId:{type:String,default:""}},data:function(){return this.chartSettings={labelMap:{score:"分数"}},{offsetV:1,selectDate:new Date,chartData:{columns:["date","score"],rows:[{date:"00:00",score:0},{date:"01:00",score:0},{date:"02:00",score:0},{date:"03:00",score:0},{date:"04:00",score:0},{date:"05:00",score:0},{date:"06:00",score:0},{date:"07:00",score:0},{date:"08:00",score:0},{date:"09:00",score:0},{date:"10:00",score:0},{date:"11:00",score:0},{date:"12:00",score:0},{date:"13:00",score:0},{date:"14:00",score:0},{date:"15:00",score:0},{date:"16:00",score:0},{date:"17:00",score:0},{date:"18:00",score:0},{date:"19:00",score:0},{date:"20:00",score:0},{date:"21:00",score:0},{date:"22:00",score:0},{date:"23:00",score:0}]},healthScore:{}}},created:function(){this.getDaily()},mounted:function(){},methods:{getDaily:function(){var t=this;(function(t){return Object(c.a)({url:"/api/a1/reports/daily",method:"get",params:t})})({child_id:this.userId,selectDate:this.selectDate}).then(function(e){t.healthScore=e.data;var s=e.data.healthIndexHour;t.chartData.rows.forEach(function(t,e){t.score=s[e]})})},changeDate:function(){this.getDaily()}}},d=(s("HYq1"),Object(n.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("近视预测")])]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-row",[s("el-col",{attrs:{offset:1}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},on:{change:t.changeDate},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:5}},[s("div",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"text-score"},[t._v(t._s(t.healthScore.healthIndex))])]),t._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[s("span",{staticStyle:{"font-size":"14px",background:"#2bd710",padding:"8px 16px","border-radius":"25px",color:"#fff"}},[t._v("总加分"+t._s(t.healthScore.upScoreMax)+",总减分"+t._s(t.healthScore.downScoreMax))])]),t._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("戴镜时间"+t._s(t.healthScore.wearTime))])])]),t._v(" "),s("el-col",{attrs:{span:19}},[s("el-row",{staticClass:"margin-bottom",attrs:{span:24}},[s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("户外时间")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.outTimePercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.outTime)+"/120分钟")]),t._v(" "),s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("用眼负荷")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.nearworkBurdenPercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.nearworkBurdenDay)+"/750D")])],1),t._v(" "),s("el-row",{staticClass:"margin-bottom",attrs:{span:24}},[s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("护眼光照时间")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.protectLuxTimePercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.protectLuxTime)+"/35分钟")]),t._v(" "),s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("近距离用眼时间")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.nearworkPercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.nearworkTotal)+"/240分钟")])],1),t._v(" "),s("el-row",{staticClass:"margin-bottom",attrs:{span:24}},[s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("户外阳光摄入")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.luxDayPercent,status:"success"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[t._v(t._s(t.healthScore.outTimeLux)+"/300000lux")]),t._v(" "),s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("不良姿势提醒")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.badPostureDayPercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.badPostureTimes)+"/90次")])],1),t._v(" "),s("el-row",{staticClass:"margin-bottom",attrs:{span:24}},[s("el-col",{staticClass:"text-right text-standard-font",attrs:{span:3}},[t._v("运动步数")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-progress",{staticClass:"progress-l-r",attrs:{"text-inside":!0,"stroke-width":24,percentage:t.healthScore.stepCountPercent,status:"success"}})],1),t._v(" "),s("el-col",{staticClass:"text-standard-font",attrs:{span:3}},[t._v(t._s(t.healthScore.stepCount)+"/10000步")])],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("ve-line",{attrs:{data:t.chartData,settings:t.chartSettings,"set-option-opts":!0}})],1)],1)],1)],1)],1)},[],!1,null,null,null));d.options.__file="daily_score.vue";var p=d.exports,u=Object(n.a)({},function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("周报")])},[],!1,null,null,null);u.options.__file="weekly_score.vue";var v=u.exports,_=Object(n.a)({},function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("月报")])},[],!1,null,null,null);_.options.__file="monthly_score.vue";var h=_.exports;var g={data:function(){return this.chartSettings={labelMap:{score:"分数"}},{options:{ageStartOptions:[],reOptions:[],ctrlTypeOptions:[],healthDataOptions:[]},conditionQuery:{age:"",re:"",ctrl_type:"",health_data:""},chartData:{columns:["age","score"],rows:[{age:"6",score:0},{age:"7",score:0},{age:"8",score:0},{age:"9",score:0},{age:"10",score:0},{age:"11",score:0},{age:"12",score:0},{age:"13",score:0},{age:"14",score:0},{age:"15",score:0},{age:"16",score:0}]}}},watch:{"conditionQuery.age":function(t,e){""!==e&&this.getForecasts()},"conditionQuery.re":function(t,e){""!==e&&this.getForecasts()},"conditionQuery.ctrl_type":function(t,e){""!==e&&this.getForecasts()},"conditionQuery.health_data":function(t,e){""!==e&&this.getForecasts()}},created:function(){this.getOptions()},mounted:function(){},methods:{getOptions:function(){var t=this;(function(t){return Object(c.a)({url:"/api/a1/forecasts/options",method:"get",params:t})})().then(function(e){t.options=e.data,t.conditionQuery.age=t.options.ageStartOptions[0],t.conditionQuery.re=t.options.reOptions[0].value,t.conditionQuery.ctrl_type=t.options.ctrlTypeOptions[0].value,t.conditionQuery.health_data=t.options.healthDataOptions[0].value,t.getForecasts()})},getForecasts:function(){(function(t){return Object(c.a)({url:"/api/a1/forecasts",methods:"get",params:t})})(this.conditionQuery).then(function(t){})}}},f=(s("w/XQ"),Object(n.a)(g,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("近视预测")])]),t._v(" "),s("el-row",[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.conditionQuery}},[s("el-form-item",{attrs:{label:"年龄"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.conditionQuery.age,callback:function(e){t.$set(t.conditionQuery,"age",e)},expression:"conditionQuery.age"}},t._l(t.options.ageStartOptions,function(t){return s("el-option",{key:t,attrs:{label:t+"岁",value:t}})}))],1),t._v(" "),s("el-form-item",{attrs:{label:"近视度数"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.conditionQuery.re,callback:function(e){t.$set(t.conditionQuery,"re",e)},expression:"conditionQuery.re"}},t._l(t.options.reOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.key,value:t.value}})}))],1),t._v(" "),s("el-form-item",{attrs:{label:"防控方式"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.conditionQuery.ctrl_type,callback:function(e){t.$set(t.conditionQuery,"ctrl_type",e)},expression:"conditionQuery.ctrl_type"}},t._l(t.options.ctrlTypeOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.key,value:t.value}})}))],1),t._v(" "),s("el-form-item",{attrs:{label:"健康评分"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.conditionQuery.health_data,callback:function(e){t.$set(t.conditionQuery,"health_data",e)},expression:"conditionQuery.health_data"}},t._l(t.options.healthDataOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.key,value:t.value}})}))],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("ve-line",{attrs:{data:t.chartData,settings:t.chartSettings,"set-option-opts":!0}})],1)],1)],1)},[],!1,null,null,null));f.options.__file="forecast.vue";var m={components:{DailyScore:p,WeeklyScore:v,MonthlyScore:h,Forecast:f.exports},props:{userId:{type:String,default:""}},data:function(){return{tabName:"first",menuItemIndex:"daily_score"}},computed:{showFirst:function(){return"first"===this.tabName}},methods:{handleClick:function(t,e){this.tabName=t.name},menuItemSelect:function(t,e){this.menuItemIndex=t,console.log(t,"-",e)}}},b=(s("OFwy"),Object(n.a)(m,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-tabs",{attrs:{value:t.tabName},on:{"tab-click":t.handleClick}},[s("el-tab-pane",{attrs:{name:"first"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("健康数据")]),t._v(" "),s("el-row",{staticClass:"tac"},[s("el-col",{attrs:{span:3}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:!1,"default-active":t.menuItemIndex},on:{select:t.menuItemSelect}},[s("el-menu-item",{attrs:{index:"daily_score"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("健康评分")])]),t._v(" "),s("el-menu-item",{attrs:{index:"weekly_score"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("健康周报")])]),t._v(" "),s("el-menu-item",{attrs:{index:"monthly_score"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("健康月报")])]),t._v(" "),s("el-menu-item",{attrs:{index:"out_time"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("户外时间")])]),t._v(" "),s("el-menu-item",{attrs:{index:"lux_take"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("光照摄入")])]),t._v(" "),s("el-menu-item",{attrs:{index:"posture"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("用眼姿势")])]),t._v(" "),s("el-menu-item",{attrs:{index:"step_count"}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("运动步数")])])],1)],1),t._v(" "),s("el-col",{attrs:{span:21}},["daily_score"===t.menuItemIndex?s("DailyScore",{attrs:{"user-id":t.userId}}):t._e(),t._v(" "),"weekly_score"===t.menuItemIndex?s("WeeklyScore"):t._e(),t._v(" "),"monthly_score"===t.menuItemIndex?s("MonthlyScore"):t._e()],1)],1)],1),t._v(" "),s("el-tab-pane",{attrs:{label:"近视预测",name:"second"}},["second"===t.tabName?s("Forecast"):t._e()],1),t._v(" "),s("el-tab-pane",{attrs:{label:"屈光档案",name:"third"}},[t._v("屈光档案")]),t._v(" "),s("el-tab-pane",{attrs:{label:"防控意见",name:"four"}},[t._v("防控意见")])],1)},[],!1,null,"9f101fc2",null));b.options.__file="health_data.vue";var x={components:{Information:o,HealthData:b.exports},data:function(){return{userId:this.$route.params.id,avatarUrl:"http://www.pptbz.com/pptpic/UploadFiles_6909/201203/2012031220134655.jpg",emptyText:"",user:{}}},mounted:function(){},created:function(){},methods:{}},y=(s("Z3vx"),Object(n.a)(x,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mixin-components-container"},[e("Information",{attrs:{"user-id":this.userId}}),this._v(" "),e("HealthData",{attrs:{"user-id":this.userId}})],1)},[],!1,null,"c6ddd898",null));y.options.__file="show.vue";e.default=y.exports},BZlz:function(t,e,s){},HYq1:function(t,e,s){"use strict";var a=s("dP2L");s.n(a).a},JJHx:function(t,e,s){},OFwy:function(t,e,s){"use strict";var a=s("xgLL");s.n(a).a},"SF+J":function(t,e,s){"use strict";s.d(e,"c",function(){return r}),s.d(e,"a",function(){return n}),s.d(e,"b",function(){return l});var a=s("t3Un");function r(t){return Object(a.a)({url:"/api/a1/children",method:"get",params:t})}function n(t){return Object(a.a)({url:"/api/a1/children/"+t.id,method:"get"})}function l(t){return Object(a.a)({url:"/api/a1/children/with_equipment",method:"get",params:t})}},Z3vx:function(t,e,s){"use strict";var a=s("BZlz");s.n(a).a},dP2L:function(t,e,s){},"w/XQ":function(t,e,s){"use strict";var a=s("xsZS");s.n(a).a},xgLL:function(t,e,s){},xsZS:function(t,e,s){}}]);