(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6d05"],{Hv8Z:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i});var l=a("t3Un");function n(e){return Object(l.a)({url:"/api/a1/summaries/whole",method:"get",params:e})}function i(e){return Object(l.a)({url:"/api/a1/summaries/sorting",method:"get",params:e})}},QrDP:function(e,t,a){"use strict";var l=a("o92v");a.n(l).a},ZYYJ:function(e,t,a){"use strict";a.r(t);var l=a("Hv8Z"),n=[{key:"healthIndex",label:"健康评分"},{key:"wearTime",label:"戴镜时间"},{key:"outTime",label:"户外时间"},{key:"protectLuxTime",label:"护眼光照时间"},{key:"luxDay",label:"阳光摄入"},{key:"nearworkDay",label:"近距离用眼时间"},{key:"nearworkBurdenDay",label:"用眼负荷"},{key:"badPostureTimes",label:"不良姿势提醒"},{key:"stepCount",label:"步数"}],i=["healthIndex","wearTime","outTime","protectLuxTime","luxDay","nearworkDay","nearworkBurdenDay","badPostureTimes","stepCount"],s={data:function(){return{checkAll:!0,checkedOptions:i,options:n,isIndeterminate:!1,list:null,total:null,todayCount:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,selectDate:new Date,period:"day",sortProp:"",sortOrder:""},periodOptions:[{value:"day",label:"日"},{value:"week",label:"周"},{value:"month",label:"月"}]}},created:function(){this.getList()},methods:{handleFilter:function(){this.getList()},getList:function(){var e=this;Object(l.a)(this.listQuery).then(function(t){e.list=t.data.items,e.total=t.data.total})},hasOptions:function(e){return this.checkedOptions.indexOf(e)>-1},handleColumnSort:function(e){this.listQuery.sortProp=e.prop,this.listQuery.sortOrder=e.order,this.getList()},handleCheckAllChange:function(e){this.checkedOptions=e?i:[],this.isIndeterminate=!1},handleCheckedOptionsChange:function(e){var t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()}}},o=(a("QrDP"),a("KHd+")),r=Object(o.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{"body-style":{padding:"0px 10px 10px 20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("智能排序")])]),e._v(" "),a("el-card",{attrs:{"body-style":{padding:"5px 10px 10px 20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设置显示字段")])]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedOptionsChange},model:{value:e.checkedOptions,callback:function(t){e.checkedOptions=t},expression:"checkedOptions"}},e._l(e.options,function(t){return a("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-row",[a("div",{staticStyle:{padding:"10px 0px 10px 0px"}},[a("span",[e._v("选择日期")]),e._v(" "),a("el-date-picker",{attrs:{clearable:!1,type:"date",placeholder:"选择日期"},model:{value:e.listQuery.selectDate,callback:function(t){e.$set(e.listQuery,"selectDate",t)},expression:"listQuery.selectDate"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.period,callback:function(t){e.$set(e.listQuery,"period",t)},expression:"listQuery.period"}},e._l(e.periodOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""},on:{"sort-change":e.handleColumnSort}},[a("el-table-column",{attrs:{label:"姓名","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/preview/child/"+t.row.childId}},[a("el-button",{attrs:{type:"text",size:"small"}},[e._v(e._s(t.row.childName))])],1)]}}])}),e._v(" "),e.hasOptions("healthIndex")?a("el-table-column",{attrs:{prop:"healthIndex",label:"用眼健康评分",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("wearTime")?a("el-table-column",{attrs:{prop:"wearTime",label:"戴镜时间(分钟)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("outTime")?a("el-table-column",{attrs:{prop:"outTime",label:"户外时间(分钟)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("protectLuxTime")?a("el-table-column",{attrs:{prop:"protectLuxTime",label:"护眼光照时间(分钟)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("luxDay")?a("el-table-column",{attrs:{prop:"luxDay",label:"阳光摄入(Lux)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("nearworkDay")?a("el-table-column",{attrs:{prop:"nearworkDay",label:"近距离用眼时间(分钟)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("nearworkBurdenDay")?a("el-table-column",{attrs:{prop:"nearworkBurdenDay",label:"用眼负荷(D)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("badPostureTimes")?a("el-table-column",{attrs:{prop:"badPostureTimes",label:"不良姿势提醒(次)",sortable:"custom","min-width":"80"}}):e._e(),e._v(" "),e.hasOptions("stepCount")?a("el-table-column",{attrs:{prop:"stepCount",label:"步数(步)",sortable:"custom","min-width":"60"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"effectiveDays",label:"同步天数",sortable:"custom","min-width":"80"}})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},[],!1,null,"7132c70c",null);r.options.__file="sorting.vue";t.default=r.exports},o92v:function(e,t,a){}}]);