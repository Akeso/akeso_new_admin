(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b9e1"],{18:function(t,e){},38:function(t,e){},39:function(t,e){},"51sJ":function(t,e,a){"use strict";var s=function(){var t=this.$createElement;this._self._c;return this._m(0)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list"},[e("ul",{staticClass:"echarts-list"},[e("li",[e("span",{staticClass:"b-blue"}),this._v("优")]),this._v(" "),e("li",[e("span",{staticClass:"b-green"}),this._v("良")]),this._v(" "),e("li",[e("span",{staticClass:"b-yellow"}),this._v("中")]),this._v(" "),e("li",[e("span",{staticClass:"b-red"}),this._v("差")])])])}];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},"5I7U":function(t,e,a){"use strict";var s=a("klGT");a.n(s).a},"7/Bt":function(t,e){t.exports="data:image/png;base64,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"},"9YUW":function(t,e,a){},AAMu:function(t,e,a){"use strict";function s(t){return 0===t?"无":t<40?"差":t<80?"中":t<120?"良":"优"}function i(t){return 0===t?"无":t<12e4?"差":t<24e4?"中":t<36e4?"良":"优"}function n(t){return 0===t?"无":t<4e3?"差":t<8e3?"中":t<12e3?"良":"优"}function r(t){return 0===t?"无":t<=240?"优":t<=480?"良":t<=720?"中":"差"}function o(t){return 0===t?"无":t<=80?"优":t<=160?"良":t<=260?"中":"差"}function l(t){return 0===t?"无":t<=15?"优":t<=30?"良":t<=45?"中":"差"}a.d(e,"e",function(){return s}),a.d(e,"b",function(){return i}),a.d(e,"f",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"a",function(){return l})},HjAC:function(t,e,a){"use strict";var s=a("LraQ");a.n(s).a},LraQ:function(t,e,a){},OPrT:function(t,e,a){},P8la:function(t,e,a){"use strict";var s=a("m+1l");a.n(s).a},RLrD:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n}),a.d(e,"i",function(){return r}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"d",function(){return c}),a.d(e,"g",function(){return u}),a.d(e,"h",function(){return d}),a.d(e,"c",function(){return h});var s=a("t3Un");function i(t){return Object(s.a)({url:"/api/a1/reports/daily",method:"get",params:t})}function n(t){return Object(s.a)({url:"/api/a1/reports/daily_en",method:"get",params:t})}function r(t){return Object(s.a)({url:"/api/a1/reports/weekly",method:"get",params:t})}function o(t){return Object(s.a)({url:"/api/a1/reports/monthly",method:"get",params:t})}function l(t){return Object(s.a)({url:"/api/a1/reports/out_time",method:"get",params:t})}function c(t){return Object(s.a)({url:"/api/a1/reports/lux_take",method:"get",params:t})}function u(t){return Object(s.a)({url:"/api/a1/reports/posture",method:"get",params:t})}function d(t){return Object(s.a)({url:"/api/a1/reports/step_count",method:"get",params:t})}function h(t){return Object(s.a)({url:"/api/a1/reports/excel_report",method:"get",params:t})}},TeSW:function(t,e,a){"use strict";var s=a("OPrT");a.n(s).a},XN98:function(t,e,a){"use strict";var s=a("lkkx"),i=a.n(s);e.default=i.a},XUEf:function(t,e,a){"use strict";var s=a("0FX9"),i=a.n(s),n={components:{QRCode:i.a},data:function(){return{msg:"hello vue",codes:""}},mounted:function(){this.useqrcode()},methods:{useqrcode:function(){var t=document.querySelector("canvas"),e=window.location.origin,a=e+"/m/doctor?id="+this.$store.state.user.id;console.log("href => ",e),i.a.toCanvas(t,a,function(t){t&&console.error(t)})}}},r=(a("d/Kj"),a("P8la"),a("KHd+")),o=Object(r.a)(n,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"qrcode-box",attrs:{id:"qrCode"}},[e("div",{attrs:{id:"code"}}),this._v(" "),e("canvas",{attrs:{id:"canvas"}})])}],!1,null,"0ac29492",null);o.options.__file="QRCode.vue";e.a=o.exports},aywz:function(t,e,a){"use strict";var s=a("qIdP");a.n(s).a},bKlr:function(t,e,a){},"d/Kj":function(t,e,a){"use strict";var s=a("9YUW");a.n(s).a},d0DV:function(t,e,a){"use strict";var s=a("51sJ"),i=a("XN98"),n=(a("zKJ/"),a("KHd+")),r=Object(n.a)(i.default,s.a,s.b,!1,null,"f0994aa2",null);r.options.__file="echarts-legend.vue",e.default=r.exports},eC58:function(t,e,a){"use strict";var s=a("bKlr");a.n(s).a},gmZR:function(t,e,a){"use strict";a.r(e);var s=a("RLrD"),i=a("4d7F"),n=a.n(i),r=a("EUZL"),o=a.n(r),l={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(t){var e=t.header,a=t.results;this.excelData.header=e,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var a=e[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),t.stopPropagation(),t.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(t){var e=t.target.files[0];e&&this.upload(e)},upload:function(t){(this.$refs["excel-upload-input"].value=null,this.beforeUpload)?this.beforeUpload(t)&&this.readerData(t):this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new n.a(function(a,s){var i=new FileReader;i.onload=function(t){var s=t.target.result,i=o.a.read(s,{type:"array"}),n=i.SheetNames[0],r=i.Sheets[n],l=e.getHeaderRow(r),c=o.a.utils.sheet_to_json(r);e.generateData({header:l,results:c}),e.loading=!1,a()},i.readAsArrayBuffer(t)})},getHeaderRow:function(t){var e=[],a=o.a.utils.decode_range(t["!ref"]),s=void 0,i=a.s.r;for(s=a.s.c;s<=a.e.c;++s){var n=t[o.a.utils.encode_cell({c:s,r:i})],r="UNKNOWN "+s;n&&n.t&&(r=o.a.utils.format_cell(n)),e.push(r)}return e},isExcel:function(t){return/\.(xlsx|xls|csv)$/.test(t.name)}}},c=(a("aywz"),a("KHd+")),u=Object(c.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:this.handleClick}}),this._v(" "),e("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:this.loading,size:"mini",type:"primary"},on:{click:this.handleUpload}},[this._v("\n    浏览\n  ")])],1)},[],!1,null,"d4202d06",null);u.options.__file="index.vue";var d=u.exports,h=a("MT78"),v=a.n(h),f=a("7Qib"),p=a("7/Bt"),_=a.n(p);a("gX0l");var m={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},outTime:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{outTime:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.outTime),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"分钟",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#D0021B","#F5A623","#54CE50","#27adff"][t.dataIndex]}}},animationDuration:6e3}]})}}},b=Object(c.a)(m,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);b.options.__file="BarChart.vue";var y=b.exports;a("gX0l");var g={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},luxDay:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{luxDay:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.luxDay),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"lux",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#D0021B","#F5A623","#54CE50","#27adff"][t.dataIndex]}}},animationDuration:6e3}]})}}},C=Object(c.a)(g,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);C.options.__file="SunshineBarChart.vue";var w=C.exports;a("gX0l");var x={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},stepCount:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{stepCount:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.stepCount),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"步数",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#D0021B","#F5A623","#54CE50","#27adff"][t.dataIndex]}}},animationDuration:6e3}]})}}},D=Object(c.a)(x,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);D.options.__file="StepBarChart.vue";var k=D.exports;a("gX0l");var S={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},nearworkBurdenDay:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{nearworkBurdenDay:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.nearworkBurdenDay),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"D",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#27adff","#54CE50","#F5A623","#D0021B"][t.dataIndex]}}},animationDuration:6e3}]})}}},E=Object(c.a)(S,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);E.options.__file="BadEyeBarChart.vue";var T=E.exports;a("gX0l");var j={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},badPostureTimes:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{badPostureTimes:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.badPostureTimes),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"次",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#27adff","#54CE50","#F5A623","#D0021B"][t.dataIndex]}}},animationDuration:6e3}]})}}},z=Object(c.a)(j,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);z.options.__file="BadPostureBarChart.vue";var A=z.exports;a("gX0l");var B={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"150px"},nearworkDay:{type:Object,default:function(){return{counts:[0,0,0,0],percents:[0,0,0,0]}}}},data:function(){return{chart:null,echartsIcon:_.a}},watch:{nearworkDay:{handler:function(t,e){t?this.initChart(t):this.initChart(e)}}},mounted:function(){var t=this;this.initChart(this.nearworkDay),this.__resizeHandler=Object(f.b)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=v.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].seriesName+" : "+t[0].name+"<br/>占比 : "+t[0].value+"%"}},grid:{top:"18%",left:"2%",right:"15%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",name:"分钟",data:t.counts,axisTick:{},axisLabel:{interval:0,formatter:function(t){},margin:10}}],yAxis:[{type:"value",axisTick:{show:!1},scale:!0,name:"占比%",max:100,min:0,boundaryGap:[.2,.2]}],series:[{name:"人数",type:"bar",barWidth:"30",data:t.percents,label:{normal:{show:!0,position:"top",formatter:function(e){return t.counts[e.dataIndex]+"人"}}},itemStyle:{normal:{color:function(t){return["#27adff","#54CE50","#F5A623","#D0021B"][t.dataIndex]}}},animationDuration:6e3}]})}}},O=Object(c.a)(B,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);O.options.__file="EyestrainBarChart.vue";var N=O.exports,L=a("d0DV"),P=a("XUEf"),R=a("AAMu"),I={props:{outTime:{type:Number,default:0},stepCount:{type:Number,default:0},luxDay:{type:Number,default:0},nearworkBurdenDay:{type:Number,default:0},nearworkDay:{type:Number,default:0},badPostureTimes:{type:Number,default:0}},data:function(){return{list:null,total:null,listLoading:!0,listQuery:{page:1,limit:10},oldList:[],newList:[],outTimeCondition:R.e,luxDayCondition:R.b,stepCountCondition:R.f,nearworkBurdenDayCondition:R.c,nearworkDayCondition:R.d,badPostureTimesCondition:R.a}},created:function(){},methods:{}},U=(a("HjAC"),Object(c.a)(I,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-row",[a("table",{staticClass:"table-cls",attrs:{border:"5",cellspacing:"0",cellpadding:"10"}},[a("tr",[a("td",{staticClass:"td-20 title-font",attrs:{rowspan:"4"}},[t._v("健康因素")]),t._v(" "),a("td",{staticClass:"td-20 title-font tab-header",staticStyle:{width:"16%"}},[t._v("监测项目")]),t._v(" "),a("td",{staticClass:"td-20 title-font tab-header",staticStyle:{width:"20%"}},[t._v("标准值")]),t._v(" "),a("td",{staticClass:"td-20 title-font tab-header",staticStyle:{width:"20%"}},[t._v("建议达标值")]),t._v(" "),a("td",{staticClass:"td-20 title-font tab-header",staticStyle:{width:"20%"}},[t._v("监测结果")]),t._v(" "),a("td",{staticClass:"td-20 title-font tab-header",staticStyle:{width:"10%"}},[t._v("评分")])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font"},[t._v("户外时间")]),t._v(" "),a("td",[t._v("120分钟/天")]),t._v(" "),a("td",[t._v("≥80分钟/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.outTime)+"分钟/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.outTimeCondition(t.outTime)))])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font"},[t._v("阳光摄入")]),t._v(" "),a("td",[t._v("36W lux/天")]),t._v(" "),a("td",[t._v("≥24W lux/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.luxDay)+"lux/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.luxDayCondition(t.luxDay)))])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font"},[t._v("运动步数")]),t._v(" "),a("td",[t._v("12000步/天")]),t._v(" "),a("td",[t._v("≥8000步/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.stepCount)+"步/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.stepCountCondition(t.stepCount)))])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font",attrs:{rowspan:"3"}},[t._v("危险因素")]),t._v(" "),a("td",{staticClass:"title-font"},[t._v("颈椎与用眼负荷")]),t._v(" "),a("td",[t._v("720D/天")]),t._v(" "),a("td",[t._v("≤480D/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.nearworkBurdenDay)+"D/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.nearworkBurdenDayCondition(t.nearworkBurdenDay)))])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font"},[t._v("不良用眼姿势")]),t._v(" "),a("td",[t._v("45次/天")]),t._v(" "),a("td",[t._v("≤30次/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.badPostureTimes)+"次/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.badPostureTimesCondition(t.badPostureTimes)))])]),t._v(" "),a("tr",[a("td",{staticClass:"title-font"},[t._v("近距离用眼时间")]),t._v(" "),a("td",[t._v("240分钟/天")]),t._v(" "),a("td",[t._v("≤160分钟/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.nearworkDay)+"分钟/天")]),t._v(" "),a("td",{staticClass:"c-blue"},[t._v(t._s(t.nearworkDayCondition(t.nearworkDay)))])])])])],1)},[],!1,null,"3aa6491d",null));U.options.__file="factorsTab.vue";var F=U.exports,M={name:"DragTable",props:{riskChildren:{type:Array,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{}},W=(a("eC58"),a("TeSW"),Object(c.a)(M,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-thead"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.riskChildren,"row-key":"id",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"是否近视"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1===e.row.visionState?"否":"是"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"",align:"center",label:"手机号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.phone))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"",align:"center",label:"户外时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.outTime)+" 分钟/天")])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"",align:"center",label:"近距离用眼时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nearworkDay)+" 分钟/天")])]}}])})],1)],1)},[],!1,null,"1d887a97",null));W.options.__file="tabel.vue";var X=W.exports,q={components:{UploadExcelComponent:d,BarChart:y,echartsLegend:L.default,SunshineBarChart:w,StepBarChart:k,BadEyeBarChart:T,BadPostureBarChart:A,EyestrainBarChart:N,QRcode:P.a,factorsTab:F,highRisTabel:X},data:function(){return{multiple:!1,fileName:"",selectDate:"",selectSection:{startDate:new Date,endDate:new Date},info:{id:void 0},outTime:{average:0,upRate:0},luxDay:{average:0,upRate:0},stepCount:{average:0,upRate:0},nearworkBurdenDay:{average:0,upRate:0},badPostureTimes:{average:0,upRate:0},nearworkDay:{average:0,upRate:0},infoData:{school:"——",clasGrade:"——",totalCount:0,maleCount:0,femaleCount:0,visionBadCount:0,visionGoodCount:0},infoStart:"",infoEnd:"",riskChildren:[]}},computed:{htmlTitle:function(){return"导出报告"}},methods:{handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleSuccess:function(t,e){console.log("res => ",t),console.log("file => ",e),this.info=t.data},beforeRemove:function(t,e){},handleClick:function(){var t=this,e={excel_roll_id:this.info.id,start_date:this.selectSection.startDate,end_date:this.selectSection.endDate};console.log("info => ",this.info,e),Object(s.c)(e).then(function(e){console.log("res => ",e.data),t.outTime=e.data.outTime,t.luxDay=e.data.luxDay,t.stepCount=e.data.stepCount,t.nearworkBurdenDay=e.data.nearworkBurdenDay,t.nearworkDay=e.data.nearworkDay,t.badPostureTimes=e.data.badPostureTimes,t.infoData=e.data.info,t.infoStart=Object(f.a)(t.selectSection.startDate),t.infoEnd=Object(f.a)(t.selectSection.endDate),t.riskChildren=e.data.riskChildren})},downloadExc:function(){window.location.href="https://akeso.com.cn/template/report_template.xlsx"}}},H=(a("5I7U"),Object(c.a)(q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,lg:10}},[a("el-upload",{staticClass:"upload-demo",attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-success":t.handleSuccess,limit:1,accept:".xlsx, .xls",action:"/api/common/excels/upload_report"}},[a("div",{staticClass:"overflow"},[a("el-button",{staticClass:"left",attrs:{size:"small",type:"primary"}},[t._v("上传Excel")]),t._v(" "),a("el-button",{staticClass:"left m-l-2",attrs:{size:"small"},on:{click:function(e){return e.stopPropagation(),t.downloadExc(e)}}},[t._v("下载Excel模板")]),t._v(" "),a("div",{staticClass:"el-upload__tip c-red left tit-btn",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xlsx, .xls文件")])],1)])],1)],1),t._v(" "),a("el-row",{staticClass:"m-t-2",attrs:{gutter:20}},[a("el-col",[t._v("\n      选择日期\n      "),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:!1,type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.selectSection.startDate,callback:function(e){t.$set(t.selectSection,"startDate",e)},expression:"selectSection.startDate"}}),t._v("\n      至\n      "),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:!1,type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.selectSection.endDate,callback:function(e){t.$set(t.selectSection,"endDate",e)},expression:"selectSection.endDate"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.handleClick}},[t._v("生成报告")])],1)],1),t._v(" "),a("el-row",{staticClass:"position"},[a("el-button",{staticClass:"pdf-item right",attrs:{type:"primary"},on:{click:function(e){t.getPdf()}}},[t._v("生成PDF")]),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{id:"pdfDom"}},[a("div",{staticClass:"clearfix header"},[a("h1",[t._v("青少年校园用眼健康因素监测报告")]),t._v(" "),a("div",{staticClass:"header-info"},[a("span",{staticClass:"item"},[t._v("学校："+t._s(t.infoData.school))]),t._v(" "),a("span",{staticClass:"item"},[t._v("班级："+t._s(t.infoData.clasGrade))]),t._v(" "),a("span",{staticClass:"item"},[t._v("人数："+t._s(t.infoData.totalCount)+"人")]),t._v(" "),a("span",{staticClass:"item"},[t._v("男生："+t._s(t.infoData.maleCount)+"人")]),t._v(" "),a("span",{staticClass:"item"},[t._v("女生："+t._s(t.infoData.femaleCount)+"人")])]),t._v(" "),a("div",{staticClass:"header-info"},[a("span",{staticClass:"item"},[t._v("近视："+t._s(t.infoData.visionBadCount)+"人")]),t._v(" "),a("span",{staticClass:"item"},[t._v("非近视："+t._s(t.infoData.visionGoodCount)+"人")]),t._v(" "),a("span",[t._v("测评时间："+t._s(t.infoStart)+" - "+t._s(t.infoEnd))])])]),t._v(" "),a("el-row",[a("el-col",{staticClass:"info b-oblue c-blue"},[t._v("为积极响应国家号召，紧跟习近平总书记和教育部等八部委联合印发的《综合防控儿童青少年近视实施方案》中“一增一减”（即增加户外活动时间，减少用眼负担）的重要指导政策，建立以在校学生为主体，基于可穿戴健康设备的青少年用眼健康体质大数据监测，通过家庭学生共同参与方式进行健康教育及预防近视健康行为促进行动。该报告将协助当地政府掌握当地近视情况，落实国家近视防控工作，帮助医生确定近视度数增长主因，为学生提供个性化精准近视防控诊疗方案，帮助学校和父母更有针对性地采取行动，为儿童青少年视力健康发育的全过程、全周期提供保障，切实有效降低当地在校学生近视率。")])],1),t._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-row",[a("el-col",{staticClass:"item-name"},[a("span",{staticClass:"border-left"}),a("span",[t._v("健康因素")])])],1),t._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("户外时间120分钟/天")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值80分钟/天")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("bar-chart",{attrs:{"out-time":t.outTime}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("户外时间平均值为"+t._s(t.outTime.average)+" 分钟/天 ")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.outTime.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生建议培养户外运动爱好，利用好碎片时间去户外运动。")]),t._v(" "),a("p",[t._v("已达标的学生请给予鼓励，同时在户外活动时注意防晒和安全。")])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("户外阳光摄入量36Wlux/天 ")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值24Wlux/天 ")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("sunshine-bar-chart",{attrs:{"lux-day":t.luxDay}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("户外阳光摄入量平均值"+t._s(t.luxDay.average)+"lux/天")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.luxDay.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生请有意识地在课间，上学路上及周末去户外沐浴阳光。")]),t._v(" "),a("p",[t._v("已达标的学生佩戴太阳帽或太阳镜避免紫外线对眼睛与皮肤的伤害。")])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("运动步数12000步/天")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值8000步/天")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("step-bar-chart",{attrs:{"step-count":t.stepCount}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("运动步数平均值"+t._s(t.stepCount.average)+"步/天")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.stepCount.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生建议培养运动类的兴趣爱好，如球类运动等；")]),t._v(" "),a("p",[t._v("已达标的学生请给予鼓励的同时，提醒户外运动时需注意安全。")])])],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-row",[a("el-col",{staticClass:"item-name"},[a("span",{staticClass:"border-left"}),a("span",[t._v("危险因素")])])],1),t._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("颈椎与用眼负担720D/天")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值480D/天")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("bad-eye-bar-chart",{attrs:{"nearwork-burden-day":t.nearworkBurdenDay}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("颈椎与用眼负担平均值"+t._s(t.nearworkBurdenDay.average)+"D/天")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.nearworkBurdenDay.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生请依从智能设备提醒，每用眼30分钟及时休息眼睛。")]),t._v(" "),a("p",[t._v("已达标的学生建议积极参与户外活动，注意放松眼睛与颈椎。")])]),t._v(" "),a("div",{staticClass:"b-bottom"})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("不良用眼姿势45次/太难")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值30次/天")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("bad-posture-bar-chart",{attrs:{"bad-posture-times":t.badPostureTimes}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("不良用眼姿势平均值"+t._s(t.badPostureTimes.average)+"次/天")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.badPostureTimes.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生请依从智能设备的闪灯+震动提醒，规范用眼距离。")]),t._v(" "),a("p",[t._v("已达标的学生还需记得不要趴着、躺着或在过暗过亮的环境下看书。")])]),t._v(" "),a("div",{staticClass:"b-bottom"})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"title-header"},[a("p",{staticClass:"left"},[t._v("近距用眼时间240分钟/天")]),t._v(" "),a("p",{staticClass:"right"},[t._v("参考值160分钟/天")])]),t._v(" "),a("echarts-legend"),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("eyestrain-bar-chart",{attrs:{"nearwork-day":t.nearworkDay}})],1),t._v(" "),a("div",{staticClass:"info-con b-gray"},[a("h3",{staticClass:"c-blue"},[t._v("近距用眼时间平均值"+t._s(t.nearworkDay.average)+"分钟/天")]),t._v(" "),a("h3",{staticClass:"c-blue"},[t._v("当前班级整体达标率为"+t._s(t.nearworkDay.upRate)+"%")]),t._v(" "),a("p",[t._v("未达标的学生需多看远，使眼睛能够远近交替使用，降低近视风险。")]),t._v(" "),a("p",[t._v("达标的学生还需学习在更多场景中合理用眼，同时鼓励户外运动。")])]),t._v(" "),a("div",{staticClass:"b-bottom"})],1)],1)],1)],1),t._v(" "),a("factors-tab",{attrs:{"out-time":t.outTime.average,"step-count":t.stepCount.average,"lux-day":t.luxDay.average,"nearwork-day":t.nearworkDay.average,"nearwork-burden-day":t.nearworkBurdenDay.average,"bad-posture-times":t.badPostureTimes.average}}),t._v(" "),a("el-row",{staticStyle:{"margin-top":"50px"}},[a("el-col",{staticClass:"item-name"},[a("span",{staticClass:"border-left"}),a("span",[t._v("本班级近视高危人群")])])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"info-con b-gray"},[a("p",[t._v("通过智能设备对在校学生用眼行为的监测，我们将户外时间“中”以下和近距用眼“中”以下的学生定义为近视高危人群，由于用眼习惯较差，未来发展成高度近视的风险极高。建议学校与家长对该群体进行重点关注、科学指导、及时干预，定期去正规医院进行检查，同时建立屈光档案追踪视力发展情况，定制个性化精准的近视防控解决方案。")])]),t._v(" "),a("high-ris-tabel",{attrs:{"risk-children":t.riskChildren}})],1)],1)],1)],1)],1)},[],!1,null,null,null));H.options.__file="group_report.vue";e.default=H.exports},klGT:function(t,e,a){},lkkx:function(t,e){},"m+1l":function(t,e,a){},o5Jy:function(t,e,a){},qIdP:function(t,e,a){},"zKJ/":function(t,e,a){"use strict";var s=a("o5Jy");a.n(s).a}}]);