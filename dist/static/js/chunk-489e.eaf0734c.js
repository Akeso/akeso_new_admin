(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-489e"],{QyQ0:function(e,t,o){"use strict";var n=o("ip9D");o.n(n).a},c11S:function(e,t,o){"use strict";var n=o("gTgX");o.n(n).a},gTgX:function(e,t,o){},ip9D:function(e,t,o){},ntYl:function(e,t,o){"use strict";o.r(t);var n={data:function(){return{dialogFormVisible:!1,imageUrl:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px"}},methods:{show:function(){this.dialogFormVisible=!0},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,o=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&o}}},a=o("KHd+"),i=Object(a.a)(n,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.dialogFormVisible,modal:!1,"close-on-click-modal":!0,"show-close":!1,title:"医生账号注册"}},[o("el-form",{attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"姓名"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系电话"}},[o("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),o("el-form-item",[o("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:"https://jsonplaceholder.typicode.com/posts/"}},[e.imageUrl?o("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)},[],!1,null,null,null);i.options.__file="regist.vue";var r={name:"Login",components:{Regist:i.exports},data:function(){return{loginForm:{username:"",password:"",account_type:"admin"},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,o){!function(e){return e.length>=0}(t)?o(new Error("请输入正确的用户名")):o()}}],password:[{required:!0,trigger:"blur",validator:function(e,t,o){t.length<5?o(new Error("密码不能小于5位")):o()}}]},loading:!1,pwdType:"password",redirect:void 0}},computed:{accountText:function(){return"admin"===this.loginForm.account_type?"管理员登录":"代理商登录"}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{changeLoginType:function(){"admin"===this.loginForm.account_type?this.loginForm.account_type="agent":this.loginForm.account_type="admin"},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,"admin"===e.$store.getters.baseType?e.$router.push({path:"/"}):e.$router.push({path:"/doctors"}),location.reload()}).catch(function(t){e.loading=!1})})}}},s=(o("c11S"),o("QyQ0"),Object(a.a)(r,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"login-container"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[o("h3",{staticClass:"title"},[e._v("艾索健康后台管理系统")]),e._v(" "),o("h3",{staticClass:"title-sub"},[e._v(e._s(e.accountText))]),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),o("el-input",{attrs:{placeholder:e.$t("login.username"),name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),o("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"}})],1)],1),e._v(" "),o("el-form-item",[o("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n          "+e._s(e.$t("login.logIn"))+"\n        ")])],1),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.changeLoginType}},[e._v("\n        切换登录方式\n      ")]),e._v(" "),o("div",{staticClass:"tips"},[o("span",{staticStyle:{"margin-right":"20px"}},[e._v("AKESO信息管理平台 技术支持：400-778-0080")])])],1)],1),e._v(" "),o("Regist",{ref:"regist"})],1)},[],!1,null,"1ad721f4",null));s.options.__file="index.vue";t.default=s.exports}}]);