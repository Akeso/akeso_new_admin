(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-26eb"],{"228y":function(t,e,a){t.exports=a.p+"static/img/header-avatar.6b07044.png"},"2Bks":function(t,e,a){},"9YUW":function(t,e,a){},Lcds:function(t,e){t.exports="data:image/png;base64,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"},P8la:function(t,e,a){"use strict";var s=a("m+1l");a.n(s).a},Ph8Z:function(t,e,a){"use strict";a.r(e);var s=a("QbLZ"),i=a.n(s),n=a("t3Un");var r=a("lHnu"),o=a("L2JU"),l=a("XUEf"),c=a("228y"),u=a.n(c),d={name:"PdfCode",components:{QRcode:l.a},props:{user:{type:Object,default:function(){return{id:void 0,name:"医生名称",avatarUrl:void 0,principal:void 0,email:void 0,phone:void 0,address:void 0,jobTitle:"视光师",workingYears:0,description:"简介",serviceNames:Array}}}},data:function(){return{avatar:u.a}},computed:i()({},Object(o.b)(["id","baseType"]))},p=(a("Q7wE"),a("KHd+")),v=Object(p.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"},attrs:{id:"pdfDom"}},[a("div",{staticClass:"container-doctor"},[a("div",{staticClass:"doctor"},[a("div",{staticClass:"avatar"},[a("div",{staticClass:"img-avatar"},[a("img",{staticClass:"img",attrs:{src:t.user.avatarUrl?t.user.avatarUrl:t.avatar,alt:""}})])]),t._v(" "),a("div",{staticClass:"name"},[a("span",[t._v(t._s(t.user.name))])]),t._v(" "),void 0!==t.user.serviceNames&&t.user.serviceNames.length>0?a("div",{staticClass:"title-info"},[a("span",{staticClass:"tit-name"},[t._v("业务擅长：")]),t._l(t.user.serviceNames,function(e,s){return a("span",{key:s},[t._v(t._s(e)+"；")])})],2):t._e(),t._v(" "),a("p",{staticClass:"info"},[t._v(t._s(t.user.description))])]),t._v(" "),"admin"!==t.baseType?a("QRcode"):t._e(),t._v(" "),a("p",{staticClass:"sub-title"},[t._v("我是儿童视力健康的守门人")]),t._v(" "),a("p",{staticClass:"sub-title"},[t._v("请扫码绑定我成为您的"+t._s("doctor"===t.baseType?"家庭视光师":"眼健康管理中心"))])],1)])},[],!1,null,"c4387068",null);v.options.__file="pdf.vue";var m=v.exports,b=a("Lcds"),f=a.n(b),A={components:{QRcode:l.a,PdfCode:m},data:function(){return{uploadUrl:"/api/common/uploads/avatar",uploadData:{authenticationToken:this.$store.state.user.authenticationToken},user:{id:void 0,name:void 0,avatarUrl:void 0,principal:void 0,email:void 0,phone:void 0,address:void 0},exportVisible:!1,avatar:f.a,nameDisable:!0,principalDisable:!0,emailDisable:!0,phoneDisable:!0,addressDisable:!0,descriptionDisable:!0}},computed:i()({},Object(o.b)(["id","authenticationToken","baseType"]),{htmlTitle:function(){return"医生二维码"}}),created:function(){this.getData()},methods:{uploadSuccess:function(t,e){this.$store.commit("updateUserInfo",t.data),this.user=t.data},beforeUpload:function(){console.log("before upload.")},editSumbit:function(t){var e=this;"name"===t?this.nameDisable=!this.nameDisable:"principal"===t?this.principalDisable=!this.principalDisable:"phone"===t?this.phoneDisable=!this.phoneDisable:"address"===t?this.addressDisable=!this.addressDisable:"description"===t&&(this.descriptionDisable=!this.descriptionDisable),this.nameDisable&&this.principalDisable&&this.phoneDisable&&this.addressDisable&&this.descriptionDisable&&function(t){return Object(n.a)({url:"/api/a1/accounts/"+t.id,method:"put",params:t})}(this.user).then(function(t){e.$store.commit("updateUserInfo",t.data),e.user=t.data})},getData:function(){var t=this;Object(r.d)({id:this.id}).then(function(e){t.exportVisible=!0,t.user=e.data,t.user.description=t.user.description.replace(/[\u0391-\uFFE5]/g,"aa").length>200?t.user.description.slice(0,200)+"...":t.user.description,console.log(t.user,t.user.description.length)})}}},h=(a("b/bd"),Object(p.a)(A,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("账户信息")])]),t._v(" "),a("el-row",{staticStyle:{margin:"10px"}},[t.exportVisible?a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(e){t.getPdf()}}},[t._v("导出医生二维码")]):t._e()],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("el-upload",{attrs:{"show-file-list":!1,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload,data:t.uploadData,action:t.uploadUrl}},[t.user.avatarUrl?a("img",{staticClass:"avatar",attrs:{src:t.user.avatarUrl}}):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("上传头像")])],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("名称")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.nameDisable},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t._v(" "),a("a",{staticClass:"item-operate",on:{click:function(e){t.editSumbit("name")}}},[t._v(t._s(1==t.nameDisable?"修改":"确认"))])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("负责人")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.principalDisable},model:{value:t.user.principal,callback:function(e){t.$set(t.user,"principal",e)},expression:"user.principal"}}),t._v(" "),a("a",{staticClass:"item-operate",on:{click:function(e){t.editSumbit("principal")}}},[t._v(t._s(1==t.principalDisable?"修改":"确认"))])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("创建日期")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("span",[t._v(t._s(t.user.createdAt))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("业务擅长")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("span",[t._v(t._s(t.user.serviceNames))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("账号")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.emailDisable},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("地址")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.addressDisable},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}}),t._v(" "),a("a",{staticClass:"item-operate",on:{click:function(e){t.editSumbit("address")}}},[t._v(t._s(1==t.addressDisable?"修改":"确认"))])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("联系方式")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.phoneDisable},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}}),t._v(" "),a("a",{staticClass:"item-operate",on:{click:function(e){t.editSumbit("phone")}}},[t._v(t._s(1==t.phoneDisable?"修改":"确认"))])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:1}},[a("span",{staticClass:"item-title"},[t._v("简介")])]),t._v(" "),a("el-col",{staticClass:"item-value",attrs:{span:18}},[a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:t.descriptionDisable},model:{value:t.user.description,callback:function(e){t.$set(t.user,"description",e)},expression:"user.description"}}),t._v(" "),a("a",{staticClass:"item-operate",on:{click:function(e){t.editSumbit("description")}}},[t._v(t._s(1==t.descriptionDisable?"修改":"确认"))])],1)],1),t._v(" "),a("div",{staticClass:"code-box"},[a("PdfCode",{attrs:{user:t.user}})],1)],1)],1)},[],!1,null,"16b76322",null));h.options.__file="index.vue";e.default=h.exports},Q7wE:function(t,e,a){"use strict";var s=a("2Bks");a.n(s).a},XUEf:function(t,e,a){"use strict";var s=a("0FX9"),i=a.n(s),n={components:{QRCode:i.a},data:function(){return{msg:"hello vue",codes:""}},mounted:function(){this.useqrcode()},methods:{useqrcode:function(){var t=document.querySelector("canvas"),e=window.location.origin,a=e+"/m/doctor?id="+this.$store.state.user.id;console.log("href => ",e),i.a.toCanvas(t,a,function(t){t&&console.error(t)})}}},r=(a("d/Kj"),a("P8la"),a("KHd+")),o=Object(r.a)(n,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"qrcode-box",attrs:{id:"qrCode"}},[e("div",{attrs:{id:"code"}}),this._v(" "),e("canvas",{attrs:{id:"canvas"}})])}],!1,null,"0ac29492",null);o.options.__file="QRCode.vue";e.a=o.exports},"b/bd":function(t,e,a){"use strict";var s=a("xgNa");a.n(s).a},"d/Kj":function(t,e,a){"use strict";var s=a("9YUW");a.n(s).a},lHnu:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"d",function(){return n}),a.d(e,"e",function(){return r}),a.d(e,"a",function(){return o}),a.d(e,"b",function(){return l}),a.d(e,"f",function(){return c});var s=a("t3Un");function i(t){return Object(s.a)({url:"/api/a1/doctors",method:"get",params:t})}function n(t){return Object(s.a)({url:"/api/a1/doctors/"+t.id,method:"get",params:t})}function r(t){return Object(s.a)({url:"/api/a1/doctors/"+t.id,method:"put",data:t})}function o(t){return Object(s.a)({url:"/api/a1/doctors",method:"post",data:t})}function l(t){return Object(s.a)({url:"/api/a1/doctors/"+t.id,method:"delete",data:t})}function c(t){return Object(s.a)({url:"/api/a1/doctors/update_location",method:"post",data:t})}},"m+1l":function(t,e,a){},xgNa:function(t,e,a){}}]);