(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2738"],{AvZf:function(e,t,a){},B1tK:function(e,t,a){"use strict";var o=a("AvZf");a.n(o).a},lEYB:function(e,t,a){"use strict";a.r(t);var o=a("nfTS"),n={data:function(){return{downloadOneUrl:"/api/a1/excels/daily_one",downloadMoreUrl:"/api/a1/excels/daily_more",downloadMoreHalfUrl:"/api/a1/excels/daily_more_half",downloadMoreAUrl:"/api/a1/excels/daily_more_a",isPeriod:1,list:null,total:null,todayCount:0,listLoading:!0,listQuery:{page:1,limit:20,phone:void 0,start_date:void 0,end_date:void 0,date:void 0}}},created:function(){},methods:{handleFilter:function(e){var t=this;this.isPeriod=e,1===this.isPeriod?Object(o.b)(this.listQuery).then(function(e){t.list=e.data.items,t.total=e.data.total}):Object(o.a)(this.listQuery).then(function(e){t.list=e.data.items,t.total=e.data.total})},hasOptions:function(e){return this.checkedOptions.indexOf(e)>-1},handleCurrentChange:function(e){this.listQuery.page=e,this.handleFilter(this.isPeriod)},handleSizeChange:function(e){this.listQuery.limit=e,this.handleFilter(this.isPeriod)}}},l=(a("B1tK"),a("KHd+")),i=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{"body-style":{padding:"0px 10px 10px 20px"}}},[a("el-row",{staticStyle:{margin:"10px 0px 10px 0px"}},[a("div",{staticStyle:{"margin-bottom":"5px",color:"gray","font-size":"14px"}},[e._v("查询某个用户，在某个时间周期内的所有数据。")]),e._v(" "),a("el-col",[e._v("\n        "+e._s(e.generateShow("common.phone"))+":\n        "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{label:e.generateShow("common.phone"),placeholder:e.generateShow("common.phone"),clearable:""},model:{value:e.listQuery.phone,callback:function(t){e.$set(e.listQuery,"phone",t)},expression:"listQuery.phone"}}),e._v("\n        "+e._s(e.generateShow("common.period"))+"\n        "),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:!1,placeholder:e.generateShow("common.start_date"),type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.listQuery.start_date,callback:function(t){e.$set(e.listQuery,"start_date",t)},expression:"listQuery.start_date"}}),e._v("\n        至\n        "),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:!1,placeholder:e.generateShow("common.end_date"),type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.listQuery.end_date,callback:function(t){e.$set(e.listQuery,"end_date",t)},expression:"listQuery.end_date"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.handleFilter(1)}}},[e._v(e._s(e.generateShow("common.query")))]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"}},[a("a",{attrs:{href:e.downloadOneUrl+"?phone="+e.listQuery.phone+"&start_date="+e.listQuery.start_date+"&end_date="+e.listQuery.end_date}},[e._v("导出Excel")])])],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"10px 0px 10px 0px"}},[a("div",{staticStyle:{"margin-bottom":"5px",color:"gray","font-size":"14px"}},[e._v("查询某一天所有的用户数据。")]),e._v(" "),a("el-col",[e._v("\n        "+e._s(e.generateShow("common.select_date"))+":\n        "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.listQuery.date,callback:function(t){e.$set(e.listQuery,"date",t)},expression:"listQuery.date"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.handleFilter(2)}}},[e._v(e._s(e.generateShow("common.query")))]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"}},[a("a",{attrs:{href:e.downloadMoreUrl+"?date="+e.listQuery.date+"&authenticationToken="+e.$store.getters.authenticationToken}},[e._v("导出一天Excel")])]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"}},[a("a",{attrs:{href:e.downloadMoreHalfUrl+"?date="+e.listQuery.date+"&authenticationToken="+e.$store.getters.authenticationToken}},[e._v("导出节点Excel")])]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"}},[a("a",{attrs:{href:e.downloadMoreAUrl+"?date="+e.listQuery.date+"&authenticationToken="+e.$store.getters.authenticationToken}},[e._v("一小时数据Excel")])])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{label:"姓名","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/preview/child/"+t.row.child_id}},[a("el-button",{attrs:{type:"text",size:"small"}},[e._v(e._s(t.row.child_name))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.healthIndex"),prop:"health_index","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.wearTime"),prop:"wear_time","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.outTime"),prop:"out_time","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.luxDay"),prop:"lux_day","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.nearworkDay"),prop:"nearwork_day","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.nearworkBurdenDay"),prop:"nearwork_burden_day","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.badPostureTimes"),prop:"bad_posture_times","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:e.generateShow("common.stepCount"),prop:"step_count","min-width":"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"同步时间",prop:"device_time","min-width":"100"}})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},[],!1,null,"2a17af8f",null);i.options.__file="data_export.vue";t.default=i.exports},nfTS:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l});var o=a("t3Un");function n(e){return Object(o.a)({url:"/api/a1/daily_eye_reports",method:"get",params:e})}function l(e){return Object(o.a)({url:"/api/a1/daily_eye_reports/period",method:"get",params:e})}}}]);